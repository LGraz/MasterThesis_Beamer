%%%%%%%%%%%%%%%%%%%%%%
%% step plots --------
% 1_ndvi.pdf
% 2_itpl.pdf
% 3_itpl_rew.pdf
% 4_ndvi_scl.pdf
% 5_show_res.pdf
% 6_corr.pdf
% 7_uncert.pdf
% 8_corr_itpl_rew.pdf
%%%%%%%%%%%%%%%%%%%%%%





\begin{frame}[t]{1. Interpolation}
    \begin{columns}
        \begin{column}{0.45\textwidth}

        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics[width=\textwidth]{step_plot/1_ndvi.pdf}
                \includegraphics[width=\textwidth]{step_plot/2_itpl.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}

\begin{frame}[t]{2. Robust Reweighting}
    \begin{columns}
        \begin{column}{0.45\textwidth}

        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics[width=\textwidth]{step_plot/2_itpl.pdf}
                \includegraphics[width=\textwidth]{step_plot/3_itpl_rew.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}

\begin{frame}[t]{3. Other Scl-Classes}
    \begin{columns}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \includegraphics[width=1.1\textwidth]{satelite/scl_classes_cropped.png}
            \end{figure}
        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics[width=\textwidth]{step_plot/3_itpl_rew.pdf}
                \includegraphics[width=\textwidth]{step_plot/4_ndvi_scl.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}

\begin{frame}[t]{4. Correction}
    \begin{columns}
        \begin{column}{0.45\textwidth}
            \vspace{-1cm}
            \includegraphics<1>[width=1.15\textwidth]{satelite/sentinel-2-bands.jpg}
            \begin{itemize}
                \item get ``true'' NDVI
                \item get table:
            \end{itemize}

            \scriptsize
            \begin{tabular}{| c |  c c c c |}
                \hline
                \color{myred}{``truth''} & observed & scl-class & B2-B10 & \color{mygray}{weather} \\
                \color{myred}{``truth''} & observed & scl-class & B2-B10 & \color{mygray}{weather} \\
                \color{myred}{\dots    } & \dots    & \dots     & \dots  & \color{mygray}{\dots}   \\
                % \hline
            \end{tabular}\normalsize \vspace{0.5cm}
            \begin{itemize}
                \item<2> Random Forest
                \item<2> predict/correct NDVI
            \end{itemize}
        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics<1>[width=\textwidth]{step_plot/4_ndvi_scl.pdf}
                \includegraphics<1>[width=\textwidth]{step_plot/5_show_res.pdf}
                \includegraphics<2>[width=\textwidth]{step_plot/5_show_res.pdf}
                \includegraphics<2>[width=\textwidth]{step_plot/6_corr.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}

\begin{frame}[t]{5. Uncertainty Estimation}
    \begin{columns}
        \begin{column}{0.45\textwidth}
            \begin{itemize}
                \item Table with residuals:
            \end{itemize}

            \scriptsize
            \begin{tabular}{| c |  c c c c |}
                \hline
                \color{myred}{residuals} & observed & scl-class & B2-B10 & \color{mygray}{weather} \\
                \color{myred}{residuals} & observed & scl-class & B2-B10 & \color{mygray}{weather} \\
                \color{myred}{\dots    } & \dots    & \dots     & \dots  & \color{mygray}{\dots}   \\
                % \hline
            \end{tabular}\normalsize \vspace{0.5cm}

            \begin{itemize}
                \item Random Forest
                \item predict residuals
                \item $weights = \frac{1}{|residual|}$
            \end{itemize}
        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics[width=\textwidth]{step_plot/6_corr.pdf}
                \includegraphics[width=\textwidth]{step_plot/7_uncert.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}

\begin{frame}[t]{6. Robust Fit to Corrected NDVI}
    \begin{columns}
        \begin{column}{0.45\textwidth}
            \textbf{Reminder: Original Situation}
            \includegraphics[width=\textwidth]{step_plot/1_ndvi.pdf}
        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{figure}
                % \centering
                \vspace{-1.6cm}
                \includegraphics[width=\textwidth]{step_plot/7_uncert.pdf}
                \includegraphics[width=\textwidth]{step_plot/8_corr_itpl_rew.pdf}
            \end{figure}
        \end{column}
    \end{columns}
    % \vfill\null
\end{frame}